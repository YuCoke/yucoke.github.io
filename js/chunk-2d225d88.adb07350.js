(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225d88"],{e5ac:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"i-layout-page-header"},[a("PageHeader",{attrs:{title:"新建初加工/编辑初加工","breadcrumb-list":e.breadcrumbList}})],1),a("Card",{staticClass:"ivu-mt ivu-p-16",attrs:{title:"原料信息",bordered:!1,"dis-hover":""}},[a("Table",{staticClass:"ivu-mt ivu-mb-16",attrs:{columns:e.materialColumns,data:e.data,loading:e.loading},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;return[a("a",{attrs:{type:"text"},on:{click:function(t){return e.handleDelete(r.id)}}},[e._v("删除")])]}}])}),a("Button",{attrs:{long:"",type:"dashed",icon:"md-add"},on:{click:function(t){e.modal1=!e.modal1}}},[e._v("添加")])],1),a("Card",{staticClass:"ivu-mt ivu-p-16",attrs:{bordered:!1,"dis-hover":"",title:"加工信息"}},[a("Form",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"加工工艺",prop:"processingTech",rules:e.processRuled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.processData.processingTech,callback:function(t){e.$set(e.processData,"processingTech",t)},expression:"processData.processingTech"}})],1)],1)],1),a("Table",{ref:"process",staticClass:"ivu-mt ivu-mb-16",attrs:{columns:e.processColumns,data:e.data,loading:e.loading},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;t.index;return[a("a",{attrs:{type:"text"},on:{click:function(t){return e.handleDelete(r.id)}}},[e._v("删除")])]}}])}),a("Button",{attrs:{long:"",type:"dashed",icon:"md-add"},on:{click:function(t){e.modal2=!e.modal2}}},[e._v("添加")])],1),a("Card",{staticClass:"ivu-mt ivu-p-16",attrs:{title:"产品信息",bordered:!1,"dis-hover":""}},[a("Table",{ref:"produce",staticClass:"ivu-mt ivu-mb-16",attrs:{columns:e.produceColumns,data:e.data,loading:e.loading},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;t.index;return[a("a",{attrs:{type:"text"},on:{click:function(t){return e.handleDelete(r.id)}}},[e._v("删除")])]}}])}),a("Button",{attrs:{long:"",type:"dashed",icon:"md-add"},on:{click:function(t){e.model3=!e.model3}}},[e._v("添加")])],1),a("Modal",{attrs:{title:"原料信息"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[a("Form",{ref:"form",staticClass:"ivu-mt",attrs:{model:e.material,"label-width":100}},[a("FormItem",{attrs:{label:"原料名称",prop:"name",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.material.name,callback:function(t){e.$set(e.material,"name",t)},expression:"material.name"}})],1),a("FormItem",{attrs:{label:"原料来源",prop:"source",placeholder:"请输选择",rules:e.ruled}},[a("Select",{model:{value:e.material.source,callback:function(t){e.$set(e.material,"source",t)},expression:"material.source"}},[a("Option",{attrs:{value:1}},[e._v("基地采收")]),a("Option",{attrs:{value:0}},[e._v("野生采收")])],1)],1),a("FormItem",{attrs:{label:"批号",prop:"batchNumber",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.material.batchNumber,callback:function(t){e.$set(e.material,"batchNumber",t)},expression:"material.batchNumber"}})],1),a("FormItem",{attrs:{label:"数量",prop:"amount",rules:e.ruled}},[a("Input",{attrs:{type:"number",placeholder:"请输入"},model:{value:e.material.amount,callback:function(t){e.$set(e.material,"amount",t)},expression:"material.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("kg")])])],1)],1)],1),a("Modal",{attrs:{title:"加工信息"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[a("Form",{ref:"form",staticClass:"ivu-mt",attrs:{model:e.processData,"label-width":100}},[a("FormItem",{attrs:{label:"加工工序",prop:"procedureList","label-for":"lng",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.processData.procedureList,callback:function(t){e.$set(e.processData,"procedureList",t)},expression:"processData.procedureList"}})],1),a("FormItem",{attrs:{label:"工序名称",prop:"procedureName","label-for":"lng",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.processData.procedureName,callback:function(t){e.$set(e.processData,"procedureName",t)},expression:"processData.procedureName"}})],1),a("FormItem",{attrs:{label:"开始时间",prop:"startTime",rules:e.ruled}},[a("Input",{attrs:{type:"date",placeholder:"请输入"},model:{value:e.processData.startTime,callback:function(t){e.$set(e.processData,"startTime",t)},expression:"processData.startTime"}})],1),a("FormItem",{attrs:{label:"结束时间",prop:"endTime",rules:e.ruled}},[a("Input",{attrs:{type:"date",placeholder:"请输入"},model:{value:e.processData.endTime,callback:function(t){e.$set(e.processData,"endTime",t)},expression:"processData.endTime"}})],1),a("FormItem",{attrs:{label:"设备",prop:"device",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.processData.device,callback:function(t){e.$set(e.processData,"device",t)},expression:"processData.device"}})],1),a("FormItem",{attrs:{label:"负责人",prop:"principal",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.processData.principal,callback:function(t){e.$set(e.processData,"principal",t)},expression:"processData.principal"}})],1),a("Row",{attrs:{gutter:24}},[a("Col",{attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("FormItem",{attrs:{label:"备注",prop:"remark"}},[a("Input",{attrs:{type:"textarea",placeholder:"请输入"},model:{value:e.processData.intro,callback:function(t){e.$set(e.processData,"intro",t)},expression:"processData.intro"}})],1)],1),a("Col",{attrs:{xl:14,lg:14,md:14,sm:24,xs:24}},[a("FormItem",[a("p",[e._v("图片")]),e._l(e.uploadList,(function(t,r){return a("div",{key:r,staticClass:"demo-upload-list"},["finished"===t.status?[a("img",{attrs:{src:t.url}}),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return e.handleView(t.name)}}}),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return e.handleRemove(t)}}})],1)]:[t.showProgress?a("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)})),a("Upload",{ref:"upload",staticClass:"business-license-upload",attrs:{"show-upload-list":!0,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,multiple:"",type:"drag",action:""}},[a("div",{staticClass:"business-license-middle"},[a("Icon",{attrs:{type:"md-add",size:"20"}}),a("br"),e._v("\n                                    点击上传\n                                ")],1)])],2)],1)],1)],1)],1),a("Modal",{attrs:{title:"产品信息"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.model3,callback:function(t){e.model3=t},expression:"model3"}},[a("Form",{ref:"form",staticClass:"ivu-mt",attrs:{model:e.produce,rules:e.produceRules,"label-width":80}},[a("FormItem",{attrs:{label:"产品名称",prop:"name",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.produce.name,callback:function(t){e.$set(e.produce,"name",t)},expression:"produce.name"}})],1),a("FormItem",{attrs:{label:"产品规格",prop:"specification",placeholder:"请输选择",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.produce.specification,callback:function(t){e.$set(e.produce,"specification",t)},expression:"produce.specification"}})],1),a("FormItem",{attrs:{label:"内部批号",prop:"batchNumber",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.produce.batchNumber,callback:function(t){e.$set(e.produce,"batchNumber",t)},expression:"produce.batchNumber"}})],1),a("FormItem",{attrs:{label:"数量",prop:"amount",rules:e.ruled}},[a("Input",{attrs:{type:"number",placeholder:"请输入"},model:{value:e.produce.amount,callback:function(t){e.$set(e.produce,"amount",t)},expression:"produce.amount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("kg")])])],1),a("FormItem",{attrs:{label:"包装规格",prop:"packingSpecification",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.produce.packingSpecification,callback:function(t){e.$set(e.produce,"packingSpecification",t)},expression:"produce.packingSpecification"}})],1),a("FormItem",{attrs:{label:"包装材料",prop:"packingMaterial",rules:e.ruled}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.produce.packingMaterial,callback:function(t){e.$set(e.produce,"packingMaterial",t)},expression:"produce.packingMaterial"}})],1),a("FormItem",{attrs:{label:"包装时间",prop:"packingTime",rules:e.ruled}},[a("Input",{attrs:{type:"date",placeholder:"请输入"},model:{value:e.produce.packingTime,callback:function(t){e.$set(e.produce,"packingTime",t)},expression:"produce.packingTime"}})],1)],1)],1)],1)},o=[],l=(a("7f7f"),{data:function(){return{layout:{full:{xl:{span:24,order:2},lg:{span:24,order:1},md:{span:24,order:1},sm:{span:24,order:1},xs:{span:24,order:1}},half:{xl:{span:8,order:2},lg:{span:12,order:1},md:{span:12,order:1},sm:{span:24,order:1},xs:{span:24,order:1}}},rules:{required:{required:!0,message:"请填写此项"}}}}}),s={name:"index",mixins:[l],data:function(){return{modal1:!1,modal2:!1,model3:!1,loading:!1,breadcrumbList:[{title:"基地",to:"/plant"},{title:"初加工管理",to:"/plant/harvest"},{title:"初加工编辑"}],materialColumns:[{title:"原料名称",key:"name",minWidth:60,show:!0},{title:"来源",key:"source",minWidth:60,show:!0},{title:"批号",key:"batchNumber",minWidth:60,show:!0},{title:"数量（kg）",key:"amount",minWidth:30,show:!0},{title:"操作",slot:"action",minWidth:30,show:!0}],processColumns:[{title:"工序名称",key:"name",minWidth:60,show:!0},{title:"时间",key:"startTime",minWidth:60,show:!0},{title:"负责人",key:"principle",minWidth:60,show:!0},{title:"操作",slot:"action",minWidth:30,show:!0}],produceColumns:[{title:"产品名称",key:"name",minWidth:60,show:!0},{title:"规格",key:"specification",minWidth:60,show:!0},{title:"批号",key:"batchNumber",minWidth:60,show:!0},{title:"数量",key:"amount",minWidth:60,show:!0},{title:"包装材料",key:"packingMaterial",minWidth:60,show:!0},{title:"包装时间",key:"packingTime",minWidth:60,show:!0},{title:"操作",slot:"action",minWidth:30,show:!0}],material:{rawMaterialList:"",name:"",source:"",batchNumber:"",amount:""},processData:{processingTech:"",procedureList:"",name:"",startTime:"",endTime:"",principal:"",device:"",remark:"",images:""},produce:{productList:"",name:"",specification:"",batchNumber:"",amount:"",packingSpecification:"",packingMaterial:"",packingTime:""},data:[{rawMaterialList:"1",source:"1",processingTech:"1",procedureList:"1",name:"1",startTime:"1",endTime:"1",principal:"1",device:"1",remark:"1",images:"1",productList:"1",specification:"1",batchNumber:"1",amount:"1",packingSpecification:"1",packingMaterial:"1",packingTime:"1"}],uploadList:[],ruled:{required:!0,message:"请输入",trigger:"blur"},processRuled:{required:!0,message:"请输入",trigger:"blur"},materialRules:{},produceRules:{}}},computed:{},mounted:function(){},methods:{handleFormatError:function(e){this.$Notice.warning({title:"文件格式错误",desc:"您上传的文件 "+e.name+" 格式不正确, 请上jpg,jpeg,png."})},handleAdd:function(){this.modal2=!0},handleRow:function(e){return e},ok:function(){this.$Message.info("Clicked ok")},cancel:function(){this.$Message.info("Clicked cancel")}}},i=s,n=a("2877"),c=Object(n["a"])(i,r,o,!1,null,"1b88a0be",null);t["default"]=c.exports}}]);